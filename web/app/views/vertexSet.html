<div class="col-sm-6">
  <div class="panel panel-default" ng-if="!side.data">
    <div class="list-group">
      <sublist heading="New">
        <a href class="list-group-item" ng-repeat="op in startingOps"
          ng-click="apply(op)">{{op.title}}</a>
      </sublist>
      <sublist heading="Existing">
        <a href class="list-group-item" ng-repeat="vs in startingVertexSets"
          ng-click="side.setNewVS(vs.id)"><shortn text="{{vs.title}}"></shortn></a>
      </sublist>
    </div>
  </div>

  <div class="panel panel-default" ng-if="side.data">
    <div class="panel-heading">
      <shortn text="{{side.data.title}}"></shortn>
      <div class="btn-group">
        <label class="btn btn-default" ng-model="side.state().graphMode" btn-radio="'bucketed'" uncheckable>
          <i tooltip="Bucketed&nbsp;Graph" class="glyphicon glyphicon-th"></i>
        </label>
        <label class="btn btn-default" ng-model="side.state().graphMode" btn-radio="'sampled'" uncheckable>
          <i tooltip="Sampled&nbsp;Graph" class="glyphicon glyphicon-eye-open"></i>
        </label>
      </div>
      <input style="vertical-align: middle;" ng-show="side.state().graphMode == 'bucketed'"
      tooltip="{{side.state().bucketCount}}&times;{{side.state().bucketCount}} buckets" type="range" min="1" max="10" step="1" ng-model="side.state().bucketCount">
      <input style="vertical-align: middle;" ng-show="side.state().graphMode == 'sampled'"
        tooltip="radius {{side.state().sampleRadius}}" type="range" max="10" step="1" ng-model="side.state().sampleRadius">
      <span style="float: right">
        <span class="glyphicon clicky glyphicon-arrow-{{side.other.name}}"
          title="Show on the {{side.other.name}}"
          ng-click="mirror(side)"></span>
        <span class="glyphicon glyphicon-remove clicky"
          title="Close"
          ng-click="close(side)"></span>
      </span>
    </div>
    <div class="list-group">
      <sublist ng-show="side.data.attributes" heading="Vertex Attributes">
        <li class="list-group-item" ng-repeat="attr in side.data.attributes">
          <shortn text="{{attr.title}}"></shortn>
          <button class="btn btn-default" ng-class="{ 'btn-primary': side.state().xAttribute === attr.id }"
              ng-click="setState(side, 'xAttribute', attr.id)">Graph on X</button>
          <button class="btn btn-default" ng-class="{ 'btn-primary': side.state().yAttribute === attr.id }"
              ng-click="setState(side, 'yAttribute', attr.id)">Graph on Y</button>
          <input class="form-control filter" placeholder="filter" ng-model="side.state().filters[attr.id]"
              ng-model-options="{ updateOn: 'blur' }">
          <span
            ng-hide="attr.showHistogram"
            class="clicky glyphicon glyphicon-stats"
            title="Show histogram"
            ng-click="startToShowHistogram(side, attr)"></span>
          <histogram ng-show="attr.showHistogram" model="attr.histogram"></histogram>
        </li>
      </sublist>
      <sublist ng-show="side.data.localEdges" heading="Local Edge Bundles">
        <li class="list-group-item" ng-repeat="bundle in side.data.localEdges">
          <shortn text="{{bundle.title}}"></shortn>
          <button class="btn btn-default" ng-click="side.followEB(bundle, true)">
            Follow
          </button>
          <button class="btn btn-default" ng-click="side.followEB(bundle, false)">
            Follow reverse
          </button>
          <button class="btn btn-default" ng-class="{ 'btn-primary': side.state().edgeBundle === bundle }"
              ng-click="setState(side, 'edgeBundle', bundle)">Graph</button>
        </li>
      </sublist>
      <sublist ng-show="side.data.inEdges" heading="Incoming Edge Bundles">
        <li class="list-group-item" ng-repeat="bundle in side.data.inEdges">
          <shortn text="{{bundle.title}}"></shortn>
          from
          <shortn text="{{bundle.source.title}}"></shortn>
          <span
              class="clicky glyphicon glyphicon-random"
              title="Follow reversed edge bundle"
              ng-click="side.followEB(bundle, false)"></span>
          <span
              class="clicky glyphicon glyphicon-arrow-{{side.other.name}}"
              title="Show source on the {{side.other.name}}"
              ng-click="side.showEB(bundle, true)"></span>
        </li>
      </sublist>
      <sublist ng-show="side.data.outEdges" heading="Outgoing Edge Bundles">
        <li class="list-group-item" ng-repeat="bundle in side.data.outEdges">
          <shortn text="{{bundle.title}}"></shortn>
          to
          <shortn text="{{bundle.destination.title}}"></shortn>
          <span
              class="clicky glyphicon glyphicon-random"
              title="Follow edge bundle"
              ng-click="side.followEB(bundle, true)"></span>
          <span
              class="clicky glyphicon glyphicon-arrow-{{side.other.name}}"
              title="Show destination on the {{side.other.name}}"
              ng-click="side.showEB(bundle, false)"></span>
        </li>
      </sublist>
      <sublist ng-show="side.data.ops" heading="Operations">
        <a href class="list-group-item" ng-repeat="op in side.data.ops"
          ng-click="apply(op)">{{op.title}}</a>
      </sublist>
    </div>
  </div>
</div>
