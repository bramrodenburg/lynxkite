<span ng-hide="renaming">
  {{attr.title}}
</span>
<form ng-submit="renaming = side.rename('vertex-attribute', attr.title, newName)" style="display: inline;" ng-show="renaming">
  <input id="renameBox" class="form-control" style="display: inline; width: 200px;"
    ng-model="newName" ng-blur="renaming = newName !== attr.title">
</form>

<span ng-if="side.state.graphMode === 'bucketed' && attr.canBucket" class="de-emph">
  Graph on
  <div class="btn-group">
    <button class="btn btn-default"
        ng-class="{ active: side.state.xAttributeTitle === attr.title }"
        ng-click="side.set('xAttributeTitle', attr.title)">
      X
    </button>
    <button class="btn btn-default"
        ng-class="{ active: side.state.yAttributeTitle === attr.title }"
        ng-click="side.set('yAttributeTitle', attr.title)">
      Y
    </button>
  </div>
</span>
<span ng-if="side.state.graphMode === 'sampled'" class="de-emph">
  Graph as
  <div class="btn-group">
    <button class="btn btn-default"
            ng-if="attr.typeName === 'Double'"
            ng-class="{ active: side.state.sizeAttributeTitle === attr.title }"
            ng-click="side.set('sizeAttributeTitle', attr.title)">
      Size
    </button>
    <button class="btn btn-default"
            ng-class="{ active: side.state.labelAttributeTitle === attr.title }"
            ng-click="side.set('labelAttributeTitle', attr.title)">
      Label
    </button>
    <button class="btn btn-default"
            ng-if="attr.typeName === 'Double' || attr.typeName === 'String'"
            ng-class="{ active: side.state.colorAttributeTitle === attr.title }"
            ng-click="side.set('colorAttributeTitle', attr.title)">
      Color
    </button>
    <button class="btn btn-default"
            ng-if="attr.typeName === 'String'"
            ng-class="{ active: side.state.iconAttributeTitle === attr.title }"
            ng-click="side.set('iconAttributeTitle', attr.title)">
      Icon
    </button>
    <button class="btn btn-default"
            ng-if="attr.isNumeric"
            ng-class="{ active: side.state.sliderAttributeTitle === attr.title }"
            ng-click="side.set('sliderAttributeTitle', attr.title)">
      Slider
    </button>
  </div>
</span>
<input ng-if="side.state.sliderAttributeTitle === attr.title"
  type="range" ng-model="side.state.sliderPos" min="-1" max="101" tooltip="Threshold">

<form ng-if="attr.canFilter" style="display: inline;">
  <input class="form-control filter" placeholder="filter" ng-model="side.state.filters[attr.title]"
    ng-model-options="{ updateOn: 'blur' }">
</form>
<histogram-button ng-show="attr.canBucket" attr="attr" side="side"
  model="histogram" type="vertex" tsv="histogramTSV">
</histogram-button>
<copy-box ng-show="histogram" description="Copy&nbsp;histogram to&nbsp;clipboard" data="{{histogramTSV}}"></copy-box>
<label ng-show="showLogCheckbox()">
  <input type="checkbox" ng-model="side.axisOptions('vertex', attr.title).logarithmic"> logarithmic
</label>

<div class="btn-group pull-right" dropdown>
  <a href class="btn-dropdown dropdown-toggle"><span class="caret"></span></a>
  <ul class="dropdown-menu">
    <li><a href ng-click="toggleRenaming()">
      <i class="glyphicon glyphicon-pencil"></i> Rename...
    </a></li>
    <li><a href ng-click="side.discard('vertex-attribute', attr.title);">
      <i class="glyphicon glyphicon-trash"></i> Discard
    </a></li>
  </ul>
</div>

<span class="type-name">{{attr.typeName}}</span>
<div class="clearfix"></div>
<histogram ng-show="histogram" model="histogram"></histogram>
